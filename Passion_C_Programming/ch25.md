Chapter 25 : Memory Dynamic Allocation
--------------------------------------

---

메모리 영역별로 저장되는 데이터 유형
------------------------------------

-	Code Area : 실행할 프로그램의 코드가 저장되는 메모리 공간이며, CPU는 코드 영역에 저장된 명령문들을 하나씩 가져가서 실행한다.<br><br>
-	Data Area : 전역변수와 static 변수들이 프로그램의 시작과 동시에 메모리 공간에 할당되며, 프로그램 종료 시 까지 남아있는다.<br><br>
-	Stack Area : 지역변수와 매개변수가 할당되며, 함수를 빠져나가면 소멸된다.<br><br>
-	Heap Area : 프로그래머가 원하는 시점에 변수를 할당하고 소멸하는 영역이다('프로그래머가 관리하는 메모리 공간').<br><br>

메모리 동적 할당
----------------

```c
void * malloc(size_t size); //힙 영역으로의 메모리 공간 할당
void free(void * ptr); //힙 영역에 할당된 메모리 공간 해제

int * ptr1 = (int *) malloc(sizeof(int));
int * ptr2 = (int *) malloc(sizeof(int)*7);
```

-	동적 할당은 할당되는 메모리의 크기를 컴파일러가 결정하지 않고, 개발자가 함수를 통해 결정한다는 뜻이다.<br><br>
-	위 함수를 사용하여 생성과 소멸의 시기가 지역변수나 전역변수와 다른 유형의 변수를 힙 영역에 할당할 수 있다.<br><br>
-	`malloc` 함수는 성공 시 할당된 메모리의 주소 값, 실패 시 NULL을 반환한다.<br><br>
-	void 포인터를 반환하기 때문에 적절한 형 변환이 필요하며, 배열의 경우 곱셈을 통해 그에 맞는 크기를 할당한다.<br><br>
-	프로그램이 종료되면 OS에 의해 메모리 공간이 해제되지만, 반드시 `free` 함수 사용을 습관화해야 한다.<br><br>

calloc
------

```c
void * calloc(size_t elt_count, size_t elt_size);
//성공 시 할당된 메모리의 주소 값, 실패 시 NULL 반환
```

-	`calloc`함수는 size바이트 크기의 블록 count개를 힙 영역에 할당한다.<br><br>
-	`malloc` 함수는 메모리 공간을 별도의 값으로 초기화하지 않아 쓰레기 값으로 채워지지만, `calloc` 함수는 모든 비트를 0으로 초기화한다.<br><br>

realloc
-------

```c
void * realloc(void * ptr, size_t size);
//성공 시 새로 할당된 메모리의 주소 값, 실패시 NULL 반환
```

-	기존에 할당된 메모리 공간의 뒤를 이어서 확장할 영역이 넉넉한 경우, `malloc` 함수와 `realloc` 함수의 반환 주소값이 동일하다.<br><br>
-	넉넉하지 않은 경우, 힙의 다른 위치에 새로이 요구하는 크기의 메모리 공간을 별도로 할당해 이전 배열에 저장된 값을 복사하기 때문에 반환 메모리 값이 다르다.<br><br>

Reference
---------

-	열혈 C 프로그래밍 (윤성우 저) Chapter 25

---
